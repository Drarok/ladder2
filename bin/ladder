#!/usr/bin/env php
<?php

use Zerifas\Ladder\Path;

define('LADDER_BIN_PATH', __DIR__);

$container = require_once LADDER_BIN_PATH . '/../bootstrap.php';

$configPathname = Path::join(getcwd(), 'ladder.json');

if (! is_file($configPathname)) {
    echo 'No such file: ' . $configPathname, PHP_EOL;
    exit(1);
}

$container['config'] = json_decode(file_get_contents($configPathname), true);

exit($container['app']->run());
